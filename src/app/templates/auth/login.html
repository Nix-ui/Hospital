{% extends 'base.html' %}
{% block title %} Login {% endblock %}
{% block header %}
{% include 'header.html' %}
{% endblock %}
{% block body %}
<section class="flex items-center justify-center min-h-screen py-12 bg-gray-200">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
        <h2 class="text-2xl font-bold text-center mb-6">Iniciar Sesión</h2>
        <form action="/login" method="post">
            <div class="mb-4">
                <label for="email" class="block text-sm font-medium text-gray-700">Correo Electrónico</label>
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com" 
                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200" required>
            </div>
            <div class="mb-4">
                <label for="password" class="block text-sm font-medium text-gray-700">Contraseña</label>
                <input type="password" id="password" name="password" placeholder="********" 
                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200" required>
            </div>
            <button type="submit" class="w-full bg-blue-800 text-white py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">Iniciar Sesión</button>
        </form>
        <p class="mt-4 text-center text-sm text-gray-600">
            ¿No tienes cuenta? <a href="/register_user" class="text-blue-600 hover:underline">Regístrate aquí</a>
        </p>
        {% if error %}
        <div id="alert" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative " role="alert">
            <img class="fill-current h-6 w-6 text-red-500 sm:inline" src="{{url_for('static', filename='assets/red-alert-icon.png')}}">
            <strong class="font-bold"><span class="block sm:inline">{{error}}</span></strong>
            <span class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="closeAlert()">
                <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
            </span>
        </div>
        {% endif %}
    </div>
</section>
<script>
    function closeAlert() {
        var alert = document.getElementById('alert');
        alert.style.display = 'none';
    }
</script>
{% endblock %}
{% block footer %}
{% include 'footer.html' %}
{% endblock %}